<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Honey, you pick?</title>
</head>
<body>
    <p>
        Restaurant Name: <span id="name"></span><br/>
        Restaurant Zip Code: <span id="address"></span><br/>
        Restaurant Menu Items: <span id="menu"></span>
    </p>
    <script>
        // Have a function that compares key words to items in the menu arrays
        // API for restuarants and menus by zip code
        const api_url = "https://api.documenu.com/v2/restaurants/search/fields?zip_code=90210&fullmenu";
        async function getData() {
            const response = await fetch(api_url, {
                "method": "GET",
                "headers": {
                    "x-api-key": "fe622a5ac3aa4f64e60a0ab9c844306d",
                    "x-rapidapi-host": "documenu.p.rapidapi.com"
                }
            });
            console.log(response);
            
            const totalRestaurants = await response.json();
            console.log(totalRestaurants);
            const restName = totalRestaurants.data[1].restaurant_name;
            console.log(restName);
            // zip code is postal_code for restaurant data
            const restAddress = totalRestaurants.data[1].address;
            console.log(restAddress);
            const restZipCode = totalRestaurants.data[1].address.postal_code;
            console.log(restZipCode);
            const restMenu = totalRestaurants.data[1].menus;
            console.log(restMenu);
            const menuItems = totalRestaurants.data[1].menus[0].menu_sections[0];
            console.log(menuItems);

            document.querySelector('#name').innerHTML = restName;
            document.querySelector('#address').innerHTML = restZipCode;
            // document.querySelector('#menu').innerHTML = menuItems;
        }
        
        getData();        
        
        // Use to get current location
        // if ('geolocation' in navigator) {
        // console.log('geolocation available');
        // navigator.geolocation.getCurrentPosition(position => {
        //     console.log(position.coords);
        // });
        // } else {
        //     console.log('geolocation not available');
        // }
    </script>
    </body>
</html>